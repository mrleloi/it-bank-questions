# ========================================
# ENVIRONMENT
# ========================================
DEBUG=False
ENVIRONMENT=production  # development, staging, production
SECRET_KEY=your-secret-key-here-min-32-characters-change-this

# ========================================
# DATABASE
# ========================================
# PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/learning_platform
# Or MariaDB/MySQL
# DATABASE_URL=mysql://user:password@localhost:3306/learning_platform

DB_ENGINE=django.db.backends.postgresql  # or django.db.backends.mysql
DB_NAME=learning_platform
DB_USER=learning_user
DB_PASSWORD=secure_password_here
DB_HOST=localhost
DB_PORT=5432  # 5432 for PostgreSQL, 3306 for MySQL
DB_CONN_MAX_AGE=60

# ========================================
# REDIS
# ========================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache specific
CACHE_REDIS_URL=redis://localhost:6379/1
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER=1800
CACHE_TTL_QUESTION=7200
CACHE_TTL_PROGRESS=600

# ========================================
# CELERY
# ========================================
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/3
CELERY_TASK_TIME_LIMIT=1800
CELERY_TASK_SOFT_TIME_LIMIT=1500
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# ========================================
# AUTHENTICATION & SECURITY
# ========================================
JWT_SECRET_KEY=${SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_PASSWORD_RESET_EXPIRE_HOURS=24
JWT_EMAIL_VERIFY_EXPIRE_DAYS=7

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=True
PASSWORD_REQUIRE_LOWERCASE=True
PASSWORD_REQUIRE_NUMBERS=True
PASSWORD_REQUIRE_SPECIAL=True

# ========================================
# CORS & HOSTS
# ========================================
ALLOWED_HOSTS=localhost,127.0.0.1,learning-platform.com,api.learning-platform.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://app.learning-platform.com
CORS_ALLOW_CREDENTIALS=True
TRUSTED_ORIGINS=http://localhost:3000,https://app.learning-platform.com

# ========================================
# API RATE LIMITING
# ========================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000
RATE_LIMIT_AUTH_PER_MINUTE=5
RATE_LIMIT_AUTH_PER_HOUR=30

# ========================================
# EMAIL
# ========================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
EMAIL_FROM_ADDRESS=noreply@learning-platform.com
EMAIL_FROM_NAME=Learning Platform

# For development
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# ========================================
# AWS S3 (Phase 2)
# ========================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=learning-platform
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=${AWS_STORAGE_BUCKET_NAME}.s3.amazonaws.com
AWS_S3_OBJECT_PARAMETERS={"CacheControl": "max-age=86400"}
AWS_DEFAULT_ACL=public-read
AWS_S3_FILE_OVERWRITE=False
AWS_S3_VERIFY=True

# ========================================
# MEDIA & STATIC FILES
# ========================================
STATIC_URL=/static/
STATIC_ROOT=/app/staticfiles
MEDIA_URL=/media/
MEDIA_ROOT=/app/media
MAX_UPLOAD_SIZE=10485760  # 10MB

# ========================================
# LEARNING SETTINGS
# ========================================
# Spaced Repetition
DEFAULT_DAILY_NEW_CARDS=20
DEFAULT_DAILY_REVIEW_LIMIT=100
DEFAULT_LEARNING_STEPS=1,10  # in minutes
DEFAULT_GRADUATING_INTERVAL=1  # days
DEFAULT_EASY_INTERVAL=4  # days
DEFAULT_STARTING_EASE=2.5
DEFAULT_EASY_BONUS=1.3
DEFAULT_INTERVAL_MODIFIER=1.0
DEFAULT_MAXIMUM_INTERVAL=36500  # days (100 years)
DEFAULT_LEECH_THRESHOLD=8

# Session Settings
SESSION_TIMEOUT_MINUTES=30
SESSION_MIN_QUESTIONS=5
SESSION_MAX_QUESTIONS=50
SESSION_DEFAULT_TIME_LIMIT=30  # minutes

# ========================================
# ANALYTICS & MONITORING
# ========================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=${ENVIRONMENT}
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=/app/logs/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Metrics
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# ========================================
# EXTERNAL SERVICES (Phase 2)
# ========================================
# OpenAI for AI features
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# Google Cloud Speech-to-Text (Phase 3)
GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/google-cloud.json
GOOGLE_CLOUD_PROJECT=

# ========================================
# IMPORT SETTINGS
# ========================================
IMPORT_BATCH_SIZE=50
IMPORT_PARALLEL_WORKERS=4
IMPORT_DATA_PATH=/app/data/questions
IMPORT_LOG_FILE=/app/logs/import.log

# ========================================
# FRONTEND URLs
# ========================================
FRONTEND_URL=http://localhost:3000
FRONTEND_RESET_PASSWORD_URL=${FRONTEND_URL}/reset-password
FRONTEND_VERIFY_EMAIL_URL=${FRONTEND_URL}/verify-email
FRONTEND_LOGIN_URL=${FRONTEND_URL}/login

# ========================================
# ADMIN SETTINGS
# ========================================
ADMIN_SITE_HEADER=Learning Platform Admin
ADMIN_SITE_TITLE=Learning Platform
ADMIN_INDEX_TITLE=Administration
DJANGO_SUPERUSER_EMAIL=admin@learning-platform.com
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_PASSWORD=change_this_password

# ========================================
# FEATURE FLAGS
# ========================================
FEATURE_AI_HINTS=False  # Phase 2
FEATURE_AI_EVALUATION=False  # Phase 2
FEATURE_VOICE_INTERACTION=False  # Phase 3
FEATURE_MULTIPLAYER=False  # Future
FEATURE_OFFLINE_MODE=False  # Future
FEATURE_SOCIAL_LEARNING=False  # Future

# ========================================
# DEVELOPMENT OVERRIDES
# ========================================
# Uncomment for development
# DEBUG=True
# ENVIRONMENT=development
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# CELERY_TASK_ALWAYS_EAGER=True
# RATE_LIMIT_ENABLED=False
